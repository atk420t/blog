{"expireTime":9007200806889980000,"key":"transformer-remark-markdown-html-cfa5e6d75210fd7c018ca4b0d4683fad-gatsby-remark-code-titlesgatsby-remark-embed-youtubegatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-twemoji-shortcutgatsby-remark-custom-blocksgatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypants-","val":"<p>Gatsby.jsでつくったブログをいざNetlifyでデプロイしようとしたところ、以下のようなエラーが出た。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Module not found: Error: Can&#39;t resolve &#39;../components/Layout&#39; in &#39;/opt/build/r epo/src/pages&#39;\nresolve &#39;../components/Layout&#39; in &#39;/opt/build/repo/src/pages&#39;\nusing description file: /opt/build/repo/package.json (relative path: ./src/p ages)\nField &#39;browser&#39; doesn&#39;t contain a valid alias configuration</code></pre></div>\n<p>僕のローカルファイル上には、たしかに<code class=\"language-text\">Layout.js</code>は存在するのに<code class=\"language-text\">Can&#39;t resolve &#39;../components/Layout&#39;</code>と言われてしまっている。</p>\n<p>心当たりがあったのは、Gatsby Starter Templateを利用するなかで、<code class=\"language-text\">layout.js</code>というコンポーネントのファイル名を<code class=\"language-text\">Layout.js</code>に変えていたこと。そこでGitHub上でcomponentsディレクトリを見てみると、ファイル名が<code class=\"language-text\">layout.js</code>のままになってしまっている。</p>\n<h2>Gitがcase-sensitiveじゃなかった</h2>\n<p>そうだ、Gitのデフォルト設定では、大文字小文字の変更を判別してくれないのだった。つまり、<code class=\"language-text\">layout.js</code>⇒<code class=\"language-text\">Layout.js</code>の変更が無視されていた。ローカルでは問題なく表示されているが、それがリモートへ反映されていなかったというわけだ。</p>\n<h3>対処法</h3>\n<p>以下のコマンドを実行すれば大文字小文字の変更まで判別してくれるようになる。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">git config core.ignorecase false</code></pre></div>\n<p>古いファイルがGit上で残ってしまっている場合は、さらに</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">git rm --cached ファイル名</code></pre></div>\n<p>で消しておく。</p>"}